"use strict";

var _on;

//----------------------------------------------------------------------
//
// This source file is part of the Folktale project.
//
// See LICENCE for licence information.
// See CONTRIBUTORS for the list of contributors to the project.
//
//----------------------------------------------------------------------

/*~
 * Applies an unary function to both sides of a binary function.
 *
 * [[on]] is a combinator that's mostly useful for things like sorting,
 * zipping, and other higher-order operations that expect binary
 * operations. It allows one to define a transformation on the arguments
 * in a way that is pretty clear:
 *
 *     let xss = [[1, 2], [3, 1], [-2, 4]];
 *
 *     function compare(a, b) {
 *       return a < b?     -1
 *       :      a === b?    0
 *       :                  1
 *     }
 *
 *     function sortBy(f, xs) {
 *       return xs.slice().sort(f)
 *     }
 *
 *     sortBy(compare::on(first), xs)
 *     // => [[-2, 4], [1, 2], [3, 1]]
 *
 * --------------------------------------------------------------------
 * name        : on
 * module      : folktale/core/lambda/infix/on
 * copyright   : (c) 2015-2016 Quildreen Motta, and CONTRIBUTORS
 * licence     : MIT
 * repository  : https://github.com/origamitower/folktale
 *
 * category    : Combining
 * stability   : experimental
 * portability : portable
 * platforms:
 *   - ECMAScript 3
 *
 * maintainers:
 *   - Quildreen Motta <queen@robotlolita.me>
 *
 * authors:
 *   - Quildreen Motta
 *
 * signature: fn::on(transform)(x, y)
 * type: |
 *   (('b, 'b) => 'c) . (('a) => 'b) => (('a, 'a) => 'c)
 */
module.exports = (_on = function _on(transform) {
  var _this = this;

  return function (x, y) {
    return _this(transform(x), transform(y));
  };
}, _on[Symbol.for("@@meta:magical")] = {
  "name": "on",
  "module": "folktale/core/lambda/infix/on",
  "copyright": "(c) 2015-2016 Quildreen Motta, and CONTRIBUTORS",
  "licence": "MIT",
  "repository": "https://github.com/origamitower/folktale",
  "category": "Combining",
  "stability": "experimental",
  "portability": "portable",
  "platforms": ["ECMAScript 3"],
  "maintainers": ["Quildreen Motta <queen@robotlolita.me>"],
  "authors": ["Quildreen Motta"],
  "signature": "fn::on(transform)(x, y)",
  "type": "(('b, 'b) => 'c) . (('a) => 'b) => (('a, 'a) => 'c)\n",
  "documentation": "\nApplies an unary function to both sides of a binary function.\n\n[[on]] is a combinator that's mostly useful for things like sorting,\nzipping, and other higher-order operations that expect binary\noperations. It allows one to define a transformation on the arguments\nin a way that is pretty clear:\n\n    let xss = [[1, 2], [3, 1], [-2, 4]];\n\n    function compare(a, b) {\n      return a < b?     -1\n      :      a === b?    0\n      :                  1\n    }\n\n    function sortBy(f, xs) {\n      return xs.slice().sort(f)\n    }\n\n    sortBy(compare::on(first), xs)\n    // => [[-2, 4], [1, 2], [3, 1]]\n"
}, _on);